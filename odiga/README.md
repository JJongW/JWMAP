# odiga - ì˜¤ëŠ˜ ì–´ë””ê°€?

AI ê¸°ë°˜ ë§›ì§‘/ì¥ì†Œ ì¶”ì²œ & ì½”ìŠ¤ í”Œë˜ë‹ CLI ë„êµ¬.

ìì—°ì–´ë¡œ ê²€ìƒ‰í•˜ë©´ Geminiê°€ ì˜ë„ë¥¼ íŒŒì•…í•˜ê³ , Supabase DBì—ì„œ ì¥ì†Œë¥¼ ì°¾ì•„ ìŠ¤ì½”ì–´ë§ ê¸°ë°˜ìœ¼ë¡œ ì¶”ì²œí•©ë‹ˆë‹¤.

## ê¸°ëŠ¥

- **ì¥ì†Œ ì¶”ì²œ** â€” "ì˜¤ëŠ˜ ì ì‹¬ ë­ ë¨¹ì„ê¹Œ?", "í™ëŒ€ ê°ì„± ì¹´í˜"
- **ì½”ìŠ¤ ì¶”ì²œ** â€” "ê°•ë‚¨ ë°ì´íŠ¸ ì½”ìŠ¤ ì§œì¤˜", "í˜¼ì ì‚°ì±… ì½”ìŠ¤"
- **ëŒ€í™”í˜• ì…ë ¥** â€” ì§€ì—­, ì¸ì› ë“± ëˆ„ë½ëœ ì •ë³´ë¥¼ ëŒ€í™”ë¡œ ë³´ì™„
- **í†µê³„ ëŒ€ì‹œë³´ë“œ** â€” ê²€ìƒ‰ íŒ¨í„´, ì¸ê¸° ì§€ì—­, ì‹œê°„ëŒ€ë³„ ë¶„ì„

## ì„¤ì¹˜

> odigaëŠ” npmì— í¼ë¸”ë¦¬ì‹œë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. ì†ŒìŠ¤ì—ì„œ ì§ì ‘ ì„¤ì¹˜í•©ë‹ˆë‹¤.

### ìš”êµ¬ ì‚¬í•­

- Node.js >= 18
- Supabase í”„ë¡œì íŠ¸ (locations í…Œì´ë¸” í•„ìš”)
- Google API Key (Gemini)

### 1. í´ë¡  ë° ë¹Œë“œ

```bash
git clone https://github.com/your-repo/JWMAP.git
cd JWMAP/odiga
npm install
npm run build
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
cp .env.example .env
```

`.env` íŒŒì¼ì„ ì—´ì–´ ê°’ì„ ì±„ì›Œì£¼ì„¸ìš”:

```env
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-role-key
GOOGLE_API_KEY=your-google-api-key
DEFAULT_REGION=ì„œìš¸
```

### 3. DB ë§ˆì´ê·¸ë ˆì´ì…˜

Supabase SQL Editorì—ì„œ ì•„ë˜ íŒŒì¼ì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰:

1. `supabase/migrations/20260215_create_odiga_tables.sql`
2. `supabase/migrations/20260215_02_add_analytics_columns.sql`

### 4. ê¸€ë¡œë²Œ CLI ë“±ë¡

```bash
npm link
```

ì´ì œ ì–´ë””ì„œë“  `odiga` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë“±ë¡ í•´ì œ:

```bash
npm unlink -g odiga
```

## ì‚¬ìš©ë²•

```bash
# ì¥ì†Œ ì¶”ì²œ
odiga "ì˜¤ëŠ˜ ì ì‹¬ ë­ ë¨¹ì„ê¹Œ?"
odiga "í™ëŒ€ ê°ì„± ì¹´í˜"
odiga "ê°•ë‚¨ í˜¼ë°¥ ë§›ì§‘"

# ì½”ìŠ¤ ì¶”ì²œ
odiga "ê°•ë‚¨ ë°ì´íŠ¸ ì½”ìŠ¤ ì§œì¤˜"
odiga "ìš©ì‚° ì¹œêµ¬ë‘ ë¨¹ë°© ì½”ìŠ¤"

# í†µê³„
odiga stats
```

### ì¥ì†Œ ì¶”ì²œ ëª¨ë“œ

ë‹¨ì¼ ì¥ì†Œë¥¼ ì°¾ì„ ë•Œ ìë™ìœ¼ë¡œ í™œì„±í™”ë©ë‹ˆë‹¤.

```
  1. íˆì½” ë¼ë©˜  ë©´ > ë¼ë©˜
     ì§„í•œ ëˆì½”ì¸  ë¼ë©˜ ë§›ì§‘
     ğŸ“ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™  â­ 4.5  ë§¤ì¹­ 8.2ì 

  2. ìŠ¤ì‹œ ì‚¬ì´í†   í•´ì‚°ë¬¼ > íšŒ
     ...

? ì–´ë””ë¡œ ê°ˆê¹Œìš”?
  1ë²ˆ ì¥ì†Œ ìƒì„¸ë³´ê¸°
  2ë²ˆ ì¥ì†Œ ìƒì„¸ë³´ê¸°
  ë‹¤ì‹œ ì¶”ì²œë°›ê¸°
```

### ì½”ìŠ¤ ì¶”ì²œ ëª¨ë“œ

"ì½”ìŠ¤", "ì§œì¤˜" ë“±ì˜ í‚¤ì›Œë“œê°€ í¬í•¨ë˜ë©´ í™œì„±í™”ë©ë‹ˆë‹¤.

```
  ì½”ìŠ¤ ë‚œì´ë„: â˜…â˜†â˜† ~800m  â˜…â˜…â˜† ~1.8km  â˜…â˜…â˜… 1.8km+

  â”€â”€ ì½”ìŠ¤ 1 â”€â”€
  ğŸš¶ 1.2km  â˜…â˜…â˜† ì ë‹¹í•œ ì‚°ì±…  â­ 8.5ì 
  íˆì½” ë¼ë©˜ â†’ ì¹´í˜ ì˜¨ë„ â†’ ì„œìš¸ìˆ²

? ì–´ë–¤ ì½”ìŠ¤ë¡œ ê°€ë³¼ê¹Œìš”?
```

## ê°œë°œ

```bash
# ê°œë°œ ëª¨ë“œ (tsxë¡œ ì§ì ‘ ì‹¤í–‰)
npm run dev -- "ê²€ìƒ‰ì–´"

# ë¹Œë“œ
npm run build

# ë¹Œë“œ í›„ ì‹¤í–‰
npm start -- "ê²€ìƒ‰ì–´"
```

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
odiga/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts              # CLI ì§„ì…ì 
â”‚   â”œâ”€â”€ flow/
â”‚   â”‚   â”œâ”€â”€ intent.ts         # Gemini ì˜ë„ íŒŒì‹±
â”‚   â”‚   â””â”€â”€ questionFlow.ts   # ëŒ€í™”í˜• ì§ˆë¬¸
â”‚   â”œâ”€â”€ engine/
â”‚   â”‚   â”œâ”€â”€ scoring.ts        # ì¥ì†Œ ìŠ¤ì½”ì–´ë§
â”‚   â”‚   â”œâ”€â”€ courseBuilder.ts   # ì½”ìŠ¤ ìƒì„±
â”‚   â”‚   â”œâ”€â”€ modePlanner.ts    # ëª¨ë“œë³„ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ distance.ts       # Haversine ê±°ë¦¬ ê³„ì‚°
â”‚   â”‚   â”œâ”€â”€ difficulty.ts     # ë‚œì´ë„ íŒì •
â”‚   â”‚   â””â”€â”€ season.ts         # ì‹œì¦Œ ê°ì§€
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”œâ”€â”€ supabase.ts       # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ places.ts         # ì¥ì†Œ ì¿¼ë¦¬
â”‚   â”‚   â”œâ”€â”€ logs.ts           # ê²€ìƒ‰ ë¡œê·¸ & í†µê³„
â”‚   â”‚   â””â”€â”€ savedCourses.ts   # ì½”ìŠ¤ ì €ì¥
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ renderer.ts       # CLI ì¶œë ¥
â”‚   â”‚   â”œâ”€â”€ prompts.ts        # ì‚¬ìš©ì ì…ë ¥
â”‚   â”‚   â””â”€â”€ colors.ts         # ìƒ‰ìƒ í…Œë§ˆ
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ mapLink.ts        # ë„¤ì´ë²„/ì¹´ì¹´ì˜¤ ë”¥ë§í¬
â”‚   â”‚   â””â”€â”€ validators.ts     # ì…ë ¥ ê²€ì¦
â”‚   â””â”€â”€ config/
â”‚       â””â”€â”€ scoring.config.ts # ìŠ¤ì½”ì–´ë§ ê°€ì¤‘ì¹˜
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ migrations/           # DB ë§ˆì´ê·¸ë ˆì´ì…˜ SQL
â”œâ”€â”€ .env.example
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

## ê¸°ìˆ  ìŠ¤íƒ

- **LLM**: Google Gemini (gemini-2.0-flash) via LangChain
- **DB**: Supabase (PostgreSQL)
- **CLI**: Enquirer (ëŒ€í™”í˜• í”„ë¡¬í”„íŠ¸), Chalk (ì»¬ëŸ¬ ì¶œë ¥)
- **Language**: TypeScript, Node.js ESM
